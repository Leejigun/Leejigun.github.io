<!-- footer도 여기에 있음 -->


<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- iOS-tip 이라고 태그를 만들었으면 post에서는 iOS tip 이라고 태그를 줘야한다. -->
<!-- dynamically fixing the title for tag/author pages -->



    <title>IGListKit 가이드(2)- Action&relaodData</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="1편에 이어서 이번에는 각각의 독립된 셀들의 이벤트를 관리하고 특정 셀을 갱신하는 방법에 대해서 알아보려 합니다." />
    <link rel="shortcut icon" href="https://leejigun.github.io//assets/images/blog-icon.png" type="image/png" />
    <link rel="canonical" href="https://leejigun.github.io//IGListKit2" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="iOS 삽질 블로그" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="IGListKit 가이드(2)- Action&relaodData" />
    <meta property="og:description" content="이전 포스트에서는 IGListkit의 Model Binding의 개념을 살펴보고 데이터를 어떻게 설계하는지 고민해 봤습니다. Post라는 하 하나의 Post를 화면에 각각의 모델로 나눠서 여러 셀로 그려주면서 복잡할 수 있는 UI 구성을 단순하고 독립되게 표현할 수 있었습니다. 독립된 셀을 구성하면서 외부의 요구사항에 맞춰서 간단하게 UI를 바꿀 수 있게 되었고, 많고 복잡한 데이터도 나눠서 처리할" />
    <meta property="og:url" content="https://leejigun.github.io//IGListKit2" />
    <meta property="og:image" content="https://leejigun.github.io//assets/images/IGListKit/profile.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2018-04-06T09:00:00+09:00" />
    <meta property="article:modified_time" content="2018-04-06T09:00:00+09:00" />
    <meta property="article:tag" content="Ios Tip" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="IGListKit 가이드(2)- Action&relaodData" />
    <meta name="twitter:description" content="이전 포스트에서는 IGListkit의 Model Binding의 개념을 살펴보고 데이터를 어떻게 설계하는지 고민해 봤습니다. Post라는 하 하나의 Post를 화면에 각각의 모델로 나눠서 여러 셀로 그려주면서 복잡할 수 있는 UI 구성을 단순하고 독립되게 표현할 수 있었습니다. 독립된 셀을 구성하면서 외부의 요구사항에 맞춰서 간단하게 UI를 바꿀 수 있게 되었고, 많고 복잡한 데이터도 나눠서 처리할" />
    <meta name="twitter:url" content="https://leejigun.github.io//" />
    <meta name="twitter:image" content="https://leejigun.github.io//assets/images/IGListKit/profile.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="iOS 삽질 블로그" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Ios Tip" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "iOS 삽질 블로그",
        "logo": "https://leejigun.github.io//assets/images/blog-icon.png"
    },
    "url": "https://leejigun.github.io//IGListKit2",
    "image": {
        "@type": "ImageObject",
        "url": "https://leejigun.github.io//assets/images/IGListKit/profile.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://leejigun.github.io//IGListKit2"
    },
    "description": "이전 포스트에서는 IGListkit의 Model Binding의 개념을 살펴보고 데이터를 어떻게 설계하는지 고민해 봤습니다. Post라는 하 하나의 Post를 화면에 각각의 모델로 나눠서 여러 셀로 그려주면서 복잡할 수 있는 UI 구성을 단순하고 독립되게 표현할 수 있었습니다. 독립된 셀을 구성하면서 외부의 요구사항에 맞춰서 간단하게 UI를 바꿀 수 있게 되었고, 많고 복잡한 데이터도 나눠서 처리할"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="IGListKit 가이드(2)- Action&relaodData" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->

        <!-- HTML elements for search -->

        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <!-- 네비게이션 바 -->
<nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://leejigun.github.io//"><img src="/assets/images/blog-icon.png" alt="iOS 삽질 블로그" /></a>
            
        
        
            <!-- 여기서 navigation 에 표시할 이이템 추가 -->
<ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/ios-tip/">iOS tip</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/watchos/">watchOS</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/rxswift/">RxSwift</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/swiftui/">swiftui</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/project/">project</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/ml/">ML</a></li>
    <li class="nav-try-ghost" role="menuitem"><a href="https://github.com/Leejigun">github</a></li>
    <li class="nav-try-ghost" role="menuitem"><a href="/search.html">Search</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-getting-started ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 6 April 2018"> 6 April 2018</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/ios-tip/'>IOS TIP</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">IGListKit 가이드(2)- Action&relaodData</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/images/IGListKit/profile.png)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><a href="https://leejigun.github.io/IGListKit">이전 포스트</a>에서는 IGListkit의 Model Binding의 개념을 살펴보고 데이터를 어떻게 설계하는지 고민해 봤습니다. Post라는 하 하나의 Post를 화면에 각각의 모델로 나눠서 여러 셀로 그려주면서 복잡할 수 있는 UI 구성을 단순하고 독립되게 표현할 수 있었습니다.
 독립된 셀을 구성하면서 외부의 요구사항에 맞춰서 간단하게 UI를 바꿀 수 있게 되었고, 많고 복잡한 데이터도 나눠서 처리할 수 있게 되었습니다. 다만, 각각의 모델과 셀로 나누면서 코드 파일을 만들고 작업 시간이 증가하는 단점이 있었지만. 각각의 데이터들이 결합성이 낮아졌기 때문에 복잡한 문제를 나눠서 간단하게 처리할 수 있어 유용한 방법이라 생각했습니다.</p>

<p>이번에는 한 발짝 더 나아가 사용자와 셀의 상호작용을 통해 UI를 변경시키는 액션을 구현해 보겠습니다.</p>

<h2 id="handling-cell-actions">Handling Cell Actions</h2>

<p>기억하시겠지만 우리가 만든 셀에는 좋아요 버튼을 누를 수 있는 Action Cell이 존재했습니다. 이 셀의 좋아요 버튼을 클릭하면 셀에 붙어있는 라벨의 좋아요 숫자가 올라가도록 하는 게 목표입니다.</p>

<p>흐름을 생각해보면 좋아요 버튼을 누르면 그 액션이 <code class="highlighter-rouge">PostSectionController</code>까지 전달이 돼서 Post 객체의 데이터가 변동되고 그 변동된 데이터만큼 하위의 Cell이 변동되는 일련의 과정이 발생하기를 원합니다.</p>

<p>이를 위해서 <strong>ActionCell.swift</strong> 파일을 열어 아래와 같은 프로토콜을 추가합니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">ActionCellDelegate</span><span class="p">:</span> <span class="kd">class</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">didTapHeart</span><span class="p">(</span><span class="nv">cell</span><span class="p">:</span> <span class="kt">ActionCell</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>그리고 ActionCell에 delegate를 추가합니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">weak</span> <span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt">ActionCellDelegate</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
</code></pre></div></div>

<p>그리고 <code class="highlighter-rouge">awakeFromNib()</code>을 오버라이드 하고 버튼에 액션을 추가합니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">override</span> <span class="kd">func</span> <span class="nf">awakeFromNib</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">super</span><span class="o">.</span><span class="nf">awakeFromNib</span><span class="p">()</span>
  <span class="n">likeButton</span><span class="o">.</span><span class="nf">addTarget</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kd">#selector(</span><span class="nf">ActionCell.onHeart</span><span class="kd">)</span><span class="p">,</span> <span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">touchUpInside</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>버튼을 누르면 호출될 메소드 onHeart 를 추가합니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">onHeart</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">delegate</span><span class="p">?</span><span class="o">.</span><span class="nf">didTapHeart</span><span class="p">(</span><span class="nv">cell</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>이 일련의 과정은 제가 안드로이드에서도 자주 사용했던 방법입니다. 인스타 그램에서 만든 예시도 이렇게 사용하는 것 보니 정석적인 방법인거 같습니다. <code class="highlighter-rouge">awakeFromNib</code>은 셀이 StoryBoard에서 읽어진 후 최초로 호출되는 메소드입니다. 보통 iOS 개발자 가이드 문서들을 보면 여기서 cell을 초기화 하는 동작을 수행하도록 했습니다.</p>

<p>추가적으로  <code class="highlighter-rouge">prepareForReuse()</code>라는 메소드도 있는데 이름에서 알 수 있듯이 셀을 재사용 하기 전에 호출되는 메소드입니다. 셀을 초기화해야 할 필요가 있을 경우 여기서도 수행 할 수 있습니다.</p>

<p><code class="highlighter-rouge">onHeart</code>가 호출되면 delegate에 <code class="highlighter-rouge">didTapHeart</code>메소드를 실행시켜줍니다. 그렇다면 이 delegate에 왜 이벤트를 넘겨주는 것일까요? 바로 이 delegate는 `PostSectionController에 있는 델리게이트를 참조하고 있기 때문입니다.</p>

<p>자 이제 <code class="highlighter-rouge">PostSectionController</code>에서 셀을 만든 후 delegate를 넘겨주도록 합시다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// PostSectionController.swift</span>
<span class="kd">func</span> <span class="nf">sectionController</span><span class="p">(</span><span class="n">_</span> <span class="nv">sectionController</span><span class="p">:</span> <span class="kt">ListBindingSectionController</span><span class="o">&lt;</span><span class="kt">ListDiffable</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">cellForViewModel</span> <span class="nv">viewModel</span><span class="p">:</span> <span class="kt">Any</span><span class="p">,</span> <span class="n">at</span> <span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UICollectionViewCell</span> <span class="p">{</span>
<span class="o">...</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">cell</span> <span class="o">=</span> <span class="n">cell</span> <span class="k">as?</span> <span class="kt">ActionCell</span> <span class="p">{</span>
        <span class="n">cell</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
    <span class="p">}</span>
<span class="o">...</span>
<span class="p">}</span>

<span class="c1">// MARK: - ActionCellDelegate</span>
<span class="kd">extension</span> <span class="kt">PostSectionController</span><span class="p">:</span> <span class="kt">ActionCellDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">didTapHeart</span><span class="p">(</span><span class="nv">cell</span><span class="p">:</span> <span class="kt">ActionCell</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"like"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">ActionCell</code> 의 <code class="highlighter-rouge">delegate</code>는 이제 <code class="highlighter-rouge">PostSectionController</code> 입니다. 따라서 <code class="highlighter-rouge">ActionCell</code>에서 이벤트를 넘겨주면 <code class="highlighter-rouge">PostSectionControlleer</code>에 있는 <code class="highlighter-rouge">didTapHeart</code>가 호출됩니다.</p>

<h2 id="local-mutations">Local Mutations</h2>

<p>우리는 저번 포스트에서 Post 모델을 디자인 할 때 안전한 디자인을 위해서 모든 내부 프로퍼티를 let으로 선언했다. let으로 선언된 프로퍼티는 변경될 수 없다. 그렇다면 우리는 어떻게 좋아요를 눌렀을 때 라벨의 숫자를 올라가게 할 수 있을까?</p>

<p>인스타그램은 mutable locale variable을 사용해 이 문제를 해결했다. 먼저 <strong>PostSectionController.swift</strong> 파일에서 변수를 추가하자.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">localLikes</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
</code></pre></div></div>

<p>그리고 좋아요 버튼을 누르면 이 변수에 1을 추가하자.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// MARK: - ActionCellDelegate</span>
<span class="kd">extension</span> <span class="kt">PostSectionController</span><span class="p">:</span> <span class="kt">ActionCellDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">didTapHeart</span><span class="p">(</span><span class="nv">cell</span><span class="p">:</span> <span class="kt">ActionCell</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// localLikes가 nil 이면 object?.likes 값을 찾아 꺼내보고 이것도 nil이면 0을 사용</span>
        <span class="n">localLikes</span> <span class="o">=</span> <span class="p">(</span><span class="n">localLikes</span> <span class="p">??</span> <span class="n">object</span><span class="p">?</span><span class="o">.</span><span class="n">likes</span> <span class="p">??</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="nf">update</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>이 경우 <code class="highlighter-rouge">localLikes</code>가  nil 이면 <code class="highlighter-rouge">object?.likes</code>를 꺼내온다. <code class="highlighter-rouge">object?.likes</code>는 절대 nil일 수 없다. 왜냐면 이미 <code class="highlighter-rouge">ActionCell</code>이 만들어져 클릭 이벤트가 넘어왔다는 것인데, nil이면 cell자체가 생길 수 없기 때문이다. 그저 컴파일러 경고를 무시하려 추가된 안전장치다.</p>

<p>다음으로 <code class="highlighter-rouge">ListBindingSectionController</code>안에 있는<code class="highlighter-rouge">update(animated:,completion:)</code>를 호출하도록 했다. 이 메소드는 화면의 셀을 갱신하도록 한다.</p>

<p>이제 <code class="highlighter-rouge">viewModelsFor</code> 에서 <code class="highlighter-rouge">localLikes</code>를 모델로 넘겨주면서 실제로 데이터를 변경 할 수 있게 되었다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">ActionViewModel</span><span class="p">(</span><span class="nv">likes</span><span class="p">:</span> <span class="n">localLikes</span> <span class="p">??</span> <span class="n">post</span><span class="o">.</span><span class="n">likes</span><span class="p">)</span>
</code></pre></div></div>

<p>이제 실제로 버튼을 눌러보면 숫자가 변하는 것을 볼 수 있다.</p>

<hr />

<p>인스타그램에서 제공하는 예제는 여기까지다. 하지만 여기서 몆가지 로직들을 더 추가해보자.</p>

<h2 id="like-button">Like Button</h2>

<p>지금 상태에서는 좋아요 버튼을 누르면 좋아요 숫자가 끝없이 올라간다. 이미 좋아요 버튼을 누른 적이 있으면 다른 상태값을 주고 좋아요 버튼을 또 누르면 좋아요가 해제되도록 해보자.</p>

<p>먼저 <code class="highlighter-rouge">Post</code>에 좋아요 상태값을 내려주는 변수를 추가하자. 우리가 서버에서 Post 정보를 받아온다면 이 글에 사용자가 좋아요를 했는지 안 했는지 저장하고 있어야 한다. 그래야 비즈니스 로직 상 좋아요 숫자를 조작하는 행위를 막을 수 있다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Post.swift</span>
<span class="k">let</span> <span class="nv">isClickedLikes</span><span class="p">:</span><span class="kt">Bool</span>
<span class="c1">// ActionViewModel.swift</span>
<span class="k">let</span> <span class="nv">isClickedLikes</span><span class="p">:</span><span class="kt">Bool</span>
</code></pre></div></div>

<p>자 이제 ActionCell까지 데이터가 내려간다. 이제 <code class="highlighter-rouge">SectionController</code>까지 데이터가 넘어왔다. viewModel에 데이터를 넘겨 주기 전에 아까 <code class="highlighter-rouge">Likes</code>를 넘겨 주었던 일을 생각해보자. 변경 될 수 없는 데이터인 <code class="highlighter-rouge">Likes</code>를 넘겨주기 위해서 로컬 변수를 사용했었다. 똑같이 해본다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">localIsClickedLikes</span><span class="p">:</span><span class="kt">Bool</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="o">...</span>
<span class="kt">ActionViewModel</span><span class="p">(</span><span class="nv">likes</span><span class="p">:</span> <span class="n">localLikes</span> <span class="p">??</span> <span class="n">post</span><span class="o">.</span><span class="n">likes</span><span class="p">)</span>
</code></pre></div></div>

<p>그리고 자 이제 클릭 이벤트 쪽으로 내려가자. 클릭 여부를 확인해서 이미 클릭 했는데 이벤트가 오면 숫자를 1 뺴보자.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// MARK: - ActionCellDelegate</span>
<span class="kd">extension</span> <span class="kt">PostSectionController</span><span class="p">:</span> <span class="kt">ActionCellDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">didTapHeart</span><span class="p">(</span><span class="nv">cell</span><span class="p">:</span> <span class="kt">ActionCell</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// localLikes가 nil 이면 object?.likes 값을 찾아 꺼내보고 이것도 nil이면 0을 사용</span>
        <span class="k">if</span> <span class="n">localIsClickedLikes</span> <span class="p">??</span> <span class="n">object</span><span class="p">?</span><span class="o">.</span><span class="n">isClickedLikes</span> <span class="p">??</span> <span class="kc">false</span> <span class="p">{</span>
            <span class="n">localLikes</span> <span class="o">=</span> <span class="p">(</span><span class="n">localLikes</span> <span class="p">??</span> <span class="n">object</span><span class="p">?</span><span class="o">.</span><span class="n">likes</span> <span class="p">??</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">localLikes</span> <span class="o">=</span> <span class="p">(</span><span class="n">localLikes</span> <span class="p">??</span> <span class="n">object</span><span class="p">?</span><span class="o">.</span><span class="n">likes</span> <span class="p">??</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="p">}</span>

        <span class="n">localIsClickedLikes</span> <span class="o">=</span> <span class="o">!</span><span class="p">(</span><span class="n">localIsClickedLikes</span> <span class="p">??</span> <span class="n">object</span><span class="p">?</span><span class="o">.</span><span class="n">isClickedLikes</span> <span class="p">??</span> <span class="kc">false</span><span class="p">)</span>

        <span class="nf">update</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>이 외에도 IGListkit을 사용하면 간단하게 진행 할 수 있는 많은 기능들이 있다. 다음 포스트에서는 IGListkit의 샘플 예제를 살펴보고 유용한 기능들을 알아보자.</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = 'https://leejigun.github.io//';
                            this.page.identifier = 'iOS 삽질 블로그';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://jglee.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; iOS 삽질 블로그 &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/ios-tip/">Ios tip</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/fastlane_release_testflight">fastlane - release, testflight</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/fastlaneFirebase">iOS fastlane - Fabric, Firebase</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/SwiftUI_Paths_Shapes">SwiftUI - Paths와 Shapes</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/ios-tip/">
                                
                                    See all 15 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/Tayga-Login,Version">
                <div class="post-card-image" style="background-image: url(/assets/images/tayga/retro_image-cutout.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Tayga-Login,Version">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Project</span>
                            
                        
                    

                    <h2 class="post-card-title">[Tayga 개발기] (1) - Login, Version check</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>Tayga 앱 구현의 첫번째 게시물로 가장 첫 진입점인 LoginViewController의 구현부를 기록한다. 사실 이미 어느정도 개발을 진행하고 회고를 작성하고 있기 때문에 게시물의 순서는 실제 개발 순서와 조금 다를 수 있지만, 처음부터 찬찬히 적어본다. ---</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/IGListKit">
                <div class="post-card-image" style="background-image: url(/assets/images/IGListKit/profile.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/IGListKit">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Ios tip</span>
                            
                        
                    

                    <h2 class="post-card-title">IGListKit 가이드(1)- 모델 바인딩</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>IGListKit [IGListKit Tutorial](https://www.raywenderlich.com/147162/iglistkit-tutorial-better-uicollectionviews) IGListkit에 대한 가이드가 많이 있지만, 버전이 3.0으로 올라가면서 binding 부분이 강화되면서 변경된 부분들에 대한 포스트가 미흡하여 인스타그램의 예제를 보충하려 한다. Modeling and Binding과 필요성 우선 예제를 fork 하고 받는다. 이</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://leejigun.github.io//">
            
                <img src="/assets/images/blog-icon.png" alt="iOS 삽질 블로그 icon" />
            
            <span>iOS 삽질 블로그</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">IGListKit 가이드(2)- Action&relaodData</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=IGListKit+%EA%B0%80%EC%9D%B4%EB%93%9C%282%29-+Action%26relaodData&amp;url=https://leejigun.github.io/IGListKit2"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://leejigun.github.io/IGListKit2"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://leejigun.github.io//">iOS 삽질 블로그</a> &copy; 2022</section>
                <section class="poweredby">Github page blog of <a href="https://github.com/Leejigun">Leejigun</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <!-- <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a> -->
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-154736789-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
