<!-- footer도 여기에 있음 -->


<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- iOS-tip 이라고 태그를 만들었으면 post에서는 iOS tip 이라고 태그를 줘야한다. -->
<!-- dynamically fixing the title for tag/author pages -->



    <title>The iOS Testing Manifesto (번역)</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="The iOS Testing Manifesto" />
    <link rel="shortcut icon" href="http://localhost:4001/assets/images/blog-icon.png" type="image/png" />
    <link rel="canonical" href="http://localhost:4001/UnitTest_Manifest" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="iOS 삽질 블로그" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="The iOS Testing Manifesto (번역)" />
    <meta property="og:description" content="The iOS Testing Manifesto(번역) https://blog.usejournal.com/the-ios-testing-manifesto-e1bc821cc4c3 대부분의 엔지니어는 테스트가 훌륭하다는 데 동의합니다. 테스트의 이점에 관한 기사와 블로그는 너무 많아 다 나열할 수 없습니다. 하지만 iOS 개발에서 유닛 테스트를 어떻게 작성해야 합니까?  좋은 유닛 테스트를 만드려면 어떻게 해야합니까? 테스트 할 필요가 있는 것은 무엇입니까? iOS개발자들은 유닛 테스트를 잘 작성하지 못하는 것으로 유명합니다. 많은 iOS" />
    <meta property="og:url" content="http://localhost:4001/UnitTest_Manifest" />
    <meta property="og:image" content="http://localhost:4001/assets/images/tdd/tdd_cover.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2018-07-02T09:00:01+09:00" />
    <meta property="article:modified_time" content="2018-07-02T09:00:01+09:00" />
    <meta property="article:tag" content="Tdd" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="The iOS Testing Manifesto (번역)" />
    <meta name="twitter:description" content="The iOS Testing Manifesto(번역) https://blog.usejournal.com/the-ios-testing-manifesto-e1bc821cc4c3 대부분의 엔지니어는 테스트가 훌륭하다는 데 동의합니다. 테스트의 이점에 관한 기사와 블로그는 너무 많아 다 나열할 수 없습니다. 하지만 iOS 개발에서 유닛 테스트를 어떻게 작성해야 합니까?  좋은 유닛 테스트를 만드려면 어떻게 해야합니까? 테스트 할 필요가 있는 것은 무엇입니까? iOS개발자들은 유닛 테스트를 잘 작성하지 못하는 것으로 유명합니다. 많은 iOS" />
    <meta name="twitter:url" content="http://localhost:4001/" />
    <meta name="twitter:image" content="http://localhost:4001/assets/images/tdd/tdd_cover.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="iOS 삽질 블로그" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Tdd" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "iOS 삽질 블로그",
        "logo": "http://localhost:4001/assets/images/blog-icon.png"
    },
    "url": "http://localhost:4001/UnitTest_Manifest",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4001/assets/images/tdd/tdd_cover.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4001/UnitTest_Manifest"
    },
    "description": "The iOS Testing Manifesto(번역) https://blog.usejournal.com/the-ios-testing-manifesto-e1bc821cc4c3 대부분의 엔지니어는 테스트가 훌륭하다는 데 동의합니다. 테스트의 이점에 관한 기사와 블로그는 너무 많아 다 나열할 수 없습니다. 하지만 iOS 개발에서 유닛 테스트를 어떻게 작성해야 합니까?  좋은 유닛 테스트를 만드려면 어떻게 해야합니까? 테스트 할 필요가 있는 것은 무엇입니까? iOS개발자들은 유닛 테스트를 잘 작성하지 못하는 것으로 유명합니다. 많은 iOS"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="The iOS Testing Manifesto (번역)" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->

        <!-- HTML elements for search -->

        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <!-- 네비게이션 바 -->
<nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4001/"><img src="/assets/images/blog-icon.png" alt="iOS 삽질 블로그" /></a>
            
        
        
            <!-- 여기서 navigation 에 표시할 이이템 추가 -->
<ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/ios/">iOS</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/watchos/">watchOS</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/rxswift/">RxSwift</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/swiftui/">swiftui</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/project/">project</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/ml/">ML</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/cs/">CS</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/flutter/">flutter</a></li>
    <li class="nav-try-ghost" role="menuitem"><a href="https://github.com/Leejigun">github</a></li>
    <li class="nav-try-ghost" role="menuitem"><a href="https://leejigun.notion.site/d96873c479d049cbb3f2476aa7990347?v=84936e8007664a6daaa211463819028d">notion</a></li>
    <li class="nav-try-ghost" role="menuitem"><a href="/search.html">Search</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-getting-started ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 2 July 2018"> 2 July 2018</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/tdd/'>TDD</a>,
                            
                        
                            
                               <a href='/tag/ios/'>IOS</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">The iOS Testing Manifesto (번역)</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/images/tdd/tdd_cover.png)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h1 id="the-ios-testing-manifesto번역">The iOS Testing Manifesto(번역)</h1>

<ul>
  <li>https://blog.usejournal.com/the-ios-testing-manifesto-e1bc821cc4c3</li>
</ul>

<p>대부분의 엔지니어는 테스트가 훌륭하다는 데 동의합니다. 테스트의 이점에 관한 기사와 블로그는 너무 많아 다 나열할 수 없습니다. 하지만 iOS 개발에서 유닛 테스트를 어떻게 작성해야 합니까?  좋은 유닛 테스트를 만드려면 어떻게 해야합니까? 테스트 할 필요가 있는 것은 무엇입니까?</p>

<p>iOS개발자들은 유닛 테스트를 잘 작성하지 못하는 것으로 유명합니다. 많은 iOS 개발자들이 유닛 테스트를 사용하고 있지 않습니다.</p>

<p>몇년 후, 저는 단위 테스트를 대체할 만한 것이 없다는 것을 깨달았습니다. 테스트를 잘 거친 코드를 사용하는 것은 앱 어딘가에 뭔가 크러쉬가 발생할 두려움 없이 변화와 실험을 할 자신감을 준다. 리펙토링 과정에서 문제가 생기거나 새로운 기능이 통합되어 있으면 이전에 구현했던 테스트들이 문제를 알릴 수 있습니다. 가장 중요한 것은, 코드 베이스의 테스트들이 테스트 하는 타겟들의 목적을 설명할 수 있다는 점 입니다.</p>

<h3 id="rules-for-writing-a-good-unit-test">Rules For Writing A Good Unit Test</h3>

<ul>
  <li>각각의 테스트는 <strong>빨라야</strong> 합니다.</li>
  <li><strong>단위 테스트에 네트워킹이 없습니다.</strong> 단위 테스트에서 네트워킹 이벤트를 수행하면 단위 테스트가 아닙니다!</li>
  <li><strong>테스트는 독립적이고 격리되어야 한다.</strong> 시험은 다른 시험에 대해서는 상태를 변화시키지 않아야 하며 서로가 종속되어서는 안됩니다.</li>
  <li><strong>시험은 반복 가능해야 한다.</strong> 시험을 망치는 것은 그것의 가치보다 더 큰 해를 끼친다. 수정하거나 삭제합니다.</li>
  <li><strong>사용자가 제어할 수 없는 종속성이 없습니다.</strong> 시스템 날짜, 표준 시간대 등에 따라 다른 테스트를 수행하지 마십시오. 이러한 테스트는 테스트 제품 군이나 테스트 환경에 있어야 합니다. 믿을 수 없는 데이터는 가까운 미래 날짜에 의존해서는 안 된다.</li>
</ul>

<p>또한 좋은 테스트는 다음과 같은 형태를 취합니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 1</span>
<span class="kd">func</span> <span class="nf">test_behaviorBeingTested_contextItsTestedUnder</span><span class="p">()</span> <span class="p">{</span>

    <span class="c1">// 2</span>
    <span class="n">objectUnderTest</span><span class="o">.</span><span class="n">service</span> <span class="o">=</span> <span class="kt">SomeMockService</span><span class="p">()</span>

    <span class="c1">// 3</span>
    <span class="n">objectUnderTest</span><span class="o">.</span><span class="nf">performAction</span><span class="p">()</span>  

    <span class="c1">// 4</span>
    <span class="k">let</span> <span class="nv">expected</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"The expected change"</span>
    <span class="k">let</span> <span class="nv">actual</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">objectUnderTest</span><span class="o">.</span><span class="n">text</span>

    <span class="c1">// 5</span>
    <span class="kt">XCTAssertEqual</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li><strong>Naming</strong> 모든 테스트는 <strong>test</strong> 라는 단어로 시작해야 합니다. 밑줄은 논리적 그룹을 구분합니다. 두번째 논리적 그룹은 테스트되는 동작이고 세번째 논리적 그룹은 테스트되는 컨텍스트입니다. 컨텍스트에 장점이 있는 경우 네번째 논리 그룹을 추가할 수 있습니다.</li>
  <li><strong>Setup</strong> 원하는 상태에서 개체를 테스트하는 데 필요한 종속성을 명시적으로 나열합니다.</li>
  <li><strong>Behavior Modification</strong>. 메서드를 호출하거나 테스트 대상 개체의 변경을 발생시키는 값을 설정합니다.</li>
  <li><strong>Capturing Changes</strong>. 두 값을 비교할 때는 예상 값과 실제 값을 모두 명시적으로 캡처하십시오. 예상 값을 설정할 때는 가능한 고정 데이터를 사용하십시오.</li>
  <li><strong>Assertion</strong> 이것은 클래스의 행동에 대한 우리의 가정과 클래스의 실제 행동에 대해 테스트하는 것입니다.</li>
</ol>

<p>테스트가 이런 일정한 형식과 모양을 가지고 있을 때, 후임 개발자들이 테스트의 목표와 등급 기능을 쉽게 파악할 수 있다. 테스트는 흔히 후임 개발자들에게 기능과 대상에 대한 설명서의 한 형태로 사용된다.</p>

<h2 id="테스트-중심-개발">테스트 중심 개발</h2>

<p>구현 전 또는 구현 중에 테스트를 작성하는 습관을 들이면 처음에는 이상한 느낌이 들 수 있습니다. 많은 iOS개발자들은 TDD가 이런 저런 이유로 인해 작업 흐름의 일부가 아니라고 말합니다. 루비나 JavaScript로 개발하는 사람이 할 수 있는 것과 같은 방식으로 TDD를 연습할 수는 없지만, 그래도 TDD를 해야 합니다.</p>

<p>우리의 메소드와 클래스를 위한 유닛 시험을 쓸 때, 함수형 프로그래밍을 하는 친구들로부터 TDD의 개념을 빌리고 그리고 그들처럼 함수를 생각해야 합니다.</p>

<p>우리는 항상 먼저 가장 간단하고 빈 형태의 메소드를 만들고 그것이 실패하는 테스트를 작성하고 테스트가 통과할때 까지 리펙토링을 진행해야 합니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* in the production code */</span>
<span class="c1">// 1</span>
<span class="kd">func</span> <span class="nf">text</span><span class="p">(</span><span class="k">for</span> <span class="nv">trafficLight</span><span class="p">:</span> <span class="kt">TrafficLight</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kt">String</span><span class="p">()</span>
<span class="p">}</span>

<span class="cm">/* in the test class */</span>
<span class="c1">// 2</span>
<span class="kd">func</span> <span class="nf">test_textForTrafficLight_red</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">expected</span> <span class="o">=</span> <span class="s">"Red"</span>
  <span class="k">let</span> <span class="nv">actual</span> <span class="o">=</span> <span class="nf">text</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">red</span><span class="p">)</span>

  <span class="kt">XCTAssertEqual</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">test_textForTrafficLight_yellow</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">expected</span> <span class="o">=</span> <span class="s">"Yellow"</span>
  <span class="k">let</span> <span class="nv">actual</span> <span class="o">=</span> <span class="nf">text</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">yellow</span><span class="p">)</span>

  <span class="kt">XCTAssertEqual</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">test_textForTrafficLight_green</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">expected</span> <span class="o">=</span> <span class="s">"Green"</span>
  <span class="k">let</span> <span class="nv">actual</span> <span class="o">=</span> <span class="nf">text</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">green</span><span class="p">)</span>

  <span class="kt">XCTAssertEqual</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>먼저, 완전히 실패할 것으로 예상되는 기본 타입을 반환하는 메소드를 작성했다.</li>
  <li>이 메소드에 대한 예상 테스트 사례를 모두 적었다.</li>
</ol>

<p>시험을 실제로 시행하고 실패하는 것을 지켜보는 것이 중요합니다. 일단 실패하면, 우리의 모든 시험 케이스가 성공할 때까지 리펙토링을 반복합니다.</p>

<h4 id="writing-tests-for-existing-classes-with-no-tests">Writing Tests for Existing Classes With No Tests</h4>

<p>엔지니어로서 우리가 하는 일의 대부분은 새로운 코드를 작성하는 것이 아니라 기존 코드를 유지하고 수정하는 것입니다. 레거시 코드에는 분석하기 쉬운 위험한 작업을 수행할 수 있는 단위 테스트가 없는 경우가 꽤 많습니다. 레거시 파일 또는 유닛 테스트가 없는 파일에서 작업하는 첫번째 단계는 변경될 기존 기능을 대상으로 하는 테스트를 작성하는 것입니다. <strong>즉, 영향을 받는 파일의 기능 하위 집합을 이해하고 현재 동작을 기록하는 테스트를 작성합니다.</strong></p>

<p>기존 클래스에 포함되지 않는 테스트를 작성할 때는 테스트를 수정하여 예상한 대로 테스트가 통과하지 못하도록 하여 테스트가 유효한지 다시 확인하는 것이 중요합니다. 만약 우리가 <strong>녹색 테스트</strong>만 쓴다면, 우리는 클래스의 원래 디자인과 의도를 잘 이해하지 못할 것이다. 쉽게 테스트할 수 있도록 원본 클래스의 구현 일부를 수정해야 할 수 있습니다. 종속성 주입을 염두에 두고 작성되지 않았거나 암묵적 의존 테스트 가능성을 위해 원래의 등급을 수정할 때, 우리는 가능한 한 원래 코드를 방해하지 않도록 변경의 수를 최소화하도록 노력해야 한다.</p>

<p>기존 동작이 문서화되면 표준 TDD흐름을 시작할 수 있습니다.</p>

<p>애플리케이션이 완전히 또는 대부분 테스트되지 않은 경우, 수정된 부품에 대해 클래스에 테스트를 점진적으로 추가하는 것이 좋습니다.</p>

<h3 id="dependency-injection">Dependency Injection</h3>

<p>일반적으로 클래스를 설계할 때 클래스 내에 있는 속성이 생성자를 통해 전달되도록 클래스를 설정해 보십시오. 생성자가 커지면 개체에 setter를 만드는 것을 허용해야 합니다.</p>

<p>경험에 비추어 볼 때, 로컬 변수(가급적이면 생성자에서 기본 값 사용)에 대한 생성자 주입과 공용 변수에 대한 설정 주입이 있습니다.</p>

<p>테스트 가능성을 위해 접근자를 수정하지 마십시오. 프라이빗 변수를 테스트할 때는 참조를 잡고 삽입한 후 내부 상태를 테스트합니다.</p>

<h3 id="mocks-stubs-fakes-spies-dummies">Mocks, Stubs, Fakes, Spies, Dummies</h3>

<p>우리의 테스트를 지역 환경에 격리시키는 것이 중요합니다. 객체에 네트워크 서비스, 딜러 등의 다른 항목에 대한 참조가 있는 경우  해당 개체를 단순화되거나 제어 가능한 버전을 주입하는 것이 중요합니다. 용도가 다른 테스트 개체에는 고유한 이름이 있습니다. 용어 자체는 아이디어만큼 중요하지 않지만, 이러한 개체를 식별하기 위한 일련의 빠른 규칙은 다음과 같습니다.</p>

<ul>
  <li><strong>Mocks</strong> 은 그들이 받을 호출을 등록하는 개체입니다.</li>
  <li><strong>Stubs</strong> 은 미리 정의된 데이터를 보관하고 테스트 중에 호출에 응답하는데 사용하는 개체입니다. 네트워킹을 테스트하는 데 종종 사용됩니다.</li>
  <li><strong>Fakes</strong> 는 작동하는 구현은 있지만, 실제 타겟과 다른 개체입니다.</li>
  <li><strong>Spies</strong> 테스트 타겟의 정보를 기록하는 Stubs입니다. 함수가 호출되는 횟수, 전달된 파라미터의 참조를 유지하는 것 등 결과 확인을 위한 데이터를 저장하는데 사용됩니다.</li>
  <li><strong>Dummies</strong> 는 테스트를 위해서 전달은 되지만 실제로는 사용되지 않는 개체를 의미합니다. 매개 변수 목록만 채우는 경우가 많습니다.</li>
</ul>

<h3 id="model-testing">Model Testing</h3>

<p>모델은 보통 코드를 쓸 때 제일 먼저 시작합니다. 대부분의 프로세싱보다 테스트하기가 쉽습니다. 비교적 독립적 입니다. 다음과 같은 모델에 대한 테스트를 작성하지 않아도 됩니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Card</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">rank</span><span class="p">:</span> <span class="kt">Rank</span>
    <span class="k">let</span> <span class="nv">suit</span><span class="p">:</span> <span class="kt">Suit</span>
<span class="p">}</span>
</code></pre></div></div>

<p>하지만 모델에 대해서 뮤테이팅 함수, 공용함수, didSet, 프로퍼티 연산 등이 내부에 추가된다면 테스트를 진행해야 합니다. 이런 경우 각각의 모델에 대한 테스트 팩토리를 구현해야 합니다.</p>

<h4 id="model-factories">Model Factories</h4>

<p>모델 팩토리는 테스트를 위해서 변수가 없어도 객체를 만들 수 있습니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">XCTest</span>
<span class="kd">@testable</span> <span class="kd">import</span> <span class="kt">MyModule</span>
<span class="c1">// 1</span>
<span class="kd">enum</span> <span class="kt">CardFactory</span> <span class="p">{</span>
    <span class="c1">// 2</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">create</span><span class="p">(</span>
        <span class="nv">rank</span><span class="p">:</span> <span class="kt">Rank</span> <span class="o">=</span> <span class="o">.</span><span class="n">ace</span><span class="p">,</span>
        <span class="nv">suit</span><span class="p">:</span> <span class="kt">Suit</span> <span class="o">=</span> <span class="o">.</span><span class="n">spade</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Card</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">Card</span><span class="p">(</span><span class="nv">rank</span><span class="p">:</span> <span class="n">rank</span><span class="p">,</span> <span class="nv">suit</span><span class="p">:</span> <span class="n">suit</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>모델 팩토리는 다른 곳에서 인스턴스로 사용할 수 없게 반드시 enum으로 선언해야 합니다.</li>
  <li><code class="language-plaintext highlighter-rouge">create</code> 메소드는 모델의 생성자에 필요한 인자를 가지고 있어야 합니다.</li>
</ol>

<h3 id="view-testing">View Testing</h3>

<p>뷰를 테스트하는 데는 여러가지 다른 철학들이 있습니다. 대부분의 사람들은 세개의 캠프로 나뉩니다.</p>

<ol>
  <li>xcode에서 제공하는 <code class="language-plaintext highlighter-rouge">XCUITest</code>를 사용하여 뷰 테스트의 일부를 자동화합니다.</li>
  <li>iOS 스냅 샷 테스트를 통해서 뷰를 테스트합니다.</li>
  <li>유닛 테스트를 작성하고 UI테스트는 잊어 버립니다.</li>
</ol>

<h4 id="1-xcuitest">1. XCUITest</h4>

<p>XCUITest는 애플의 UI 테스트 프레임워크에 있는 Xcode 테스트입니다. 이것은 UI 테스트 녹화 같은 유용한 기능들을 제공합니다.</p>

<p>안타깝게도 XCUITest는 두가지 테스트 규칙을 준수하지 않습니다.</p>

<ol>
  <li>사용자 정의 테스트로 작성된 UI테스트는 느립니다. 로그인 흐름을 테스트하는 데 최대 10분이 걸릴 수 있습니다.</li>
  <li>지원되는 UI테스트를 사용하여 작성한 UI테스트는 손상될 수 있습니다.</li>
</ol>

<p>이러한 이유로, 자동화된 통합 환경에서 프로젝트를 테스트 하는 것에 적합하지 않습니다.</p>

<h4 id="2-ios-snapshot-test-case">2. iOS-Snapshot-Test-Case</h4>

<p>스냅 샷 테스트에서는 이중 데이터를 사용하여 일부 코드의 정확성을 확인합니다. 이 경우 스냅 샷 테스트는 iOS 뷰의 스크린 샷을 기록하고 예기치 않게 변경되지 않도록 합니다. 스냅 샷 테스트에 실패하면 검사를 위한 Diffe가 생성됩니다.</p>

<p>많은 프로젝트에서 <a href="https://github.com/uber/ios-snapshot-test-case">iOS-Snapshot-Test-Case</a> 를 사용하고 있고 XCUITest와 달리 빠르고 신뢰할 수 있습니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">FBSnapshotTestCase</span>

<span class="c1">// 1</span>
<span class="kd">class</span> <span class="kt">FBSnapshotTestCaseSwiftTest</span><span class="p">:</span> <span class="kt">FBSnapshotTestCase</span> <span class="p">{</span>

  <span class="k">override</span> <span class="kd">func</span> <span class="nf">setUp</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="nf">setUp</span><span class="p">()</span>
    <span class="c1">// 2</span>
    <span class="n">recordMode</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="p">}</span>

  <span class="kd">func</span> <span class="nf">testExample</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">view</span> <span class="o">=</span> <span class="kt">UIView</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">width</span><span class="p">:</span> <span class="mi">64</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">64</span><span class="p">))</span>
    <span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="o">.</span><span class="n">blue</span>

    <span class="c1">// 3</span>
    <span class="kt">FBSnapshotVerifyView</span><span class="p">(</span><span class="n">view</span><span class="p">)</span>
    <span class="kt">FBSnapshotVerifyLayer</span><span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">layer</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>우리는 XCTestCase가 아닌 FBSnapshotTestCase를 import해 사용합니다.</li>
  <li>녹화 모드를 설정합니다. 처음 실행할 때 이 값을 true로 설정하면 테스트할 디스크에 참조 이미지가 생성됩니다.</li>
  <li>현재 뷰를 기준 이미지에 대해 테스트합니다.</li>
</ol>

<p>스냅샷 테스트의 더 자세한 내용은 <a href="https://www.stephencelis.com/2017/09/snapshot-testing-in-swift">여기</a> 를 참고해주세요.</p>

<h3 id="controller-testing">Controller Testing</h3>

<p>컨트롤러의 모든 책임을 테스트하는 것이 중요합니다. 본 문서에서는 컨트롤러에 다음과 같은 책임이 있다고 가정합니다.</p>

<ol>
  <li>Navigation</li>
  <li>View presentation</li>
  <li>Delegate conformance</li>
  <li>Networking</li>
</ol>

<p>네트워킹 또는 네비게이션 같은 책임 중 일부가 다른 개체(예:ViewModel, Interactor)에 위임된 경우에도 이러한 지침이 해당 개체에 적용됩니다.</p>

<h4 id="testing-navigation-and-view-presentation">Testing Navigation and View Presentation</h4>

<p>네비게이션을 테스트하려면 UIWindow가 필요하다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* in the test class */</span>

<span class="c1">// 1</span>
<span class="k">var</span> <span class="nv">window</span><span class="p">:</span> <span class="kt">UIWindow</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">controller</span><span class="p">:</span> <span class="kt">MyController</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">navigationController</span><span class="p">:</span> <span class="kt">UINavigationController</span><span class="o">!</span>

<span class="k">override</span> <span class="kd">func</span> <span class="nf">setUp</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">super</span><span class="o">.</span><span class="nf">setUp</span><span class="p">()</span>
  <span class="n">controller</span> <span class="o">=</span> <span class="kt">MyController</span><span class="p">()</span>
  <span class="c1">// 2</span>
  <span class="n">navigationController</span> <span class="o">=</span> <span class="kt">UINavigationController</span><span class="p">(</span><span class="nv">rootViewController</span><span class="p">:</span> <span class="n">controller</span><span class="p">)</span>
  <span class="c1">// 3</span>
  <span class="n">window</span> <span class="o">=</span> <span class="kt">UIWindow</span><span class="p">()</span>
  <span class="n">window</span><span class="o">.</span><span class="n">rootViewController</span> <span class="o">=</span> <span class="n">controller</span>
  <span class="n">window</span><span class="o">.</span><span class="nf">makeKeyAndVisible</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>필요한 요소들을 참조할 변수를 생성</li>
  <li>UINavigation에 푸쉬를 통해서 테스트할 액션 수행</li>
  <li>UIWindow의 내부 프로퍼티를 통해서 컨트롤러의 계층 구조를 확인</li>
</ol>

<p>아래와 같은 방법으로 안정하게 네비게이션 테스트를 진행할 수 있습니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Testing Push Navigation</span>
<span class="kd">func</span> <span class="nf">test_tableViewSelection_displaysCar_whenSelectingCarRow</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">controller</span><span class="o">.</span><span class="nf">tableView</span><span class="p">(</span><span class="n">controller</span><span class="o">.</span><span class="n">tableView</span><span class="p">,</span> <span class="nv">didSelectRowAt</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">section</span><span class="p">:</span> <span class="kt">MyController</span><span class="o">.</span><span class="kt">Section</span><span class="o">.</span><span class="n">cars</span><span class="o">.</span><span class="n">rawValue</span><span class="p">)</span>
  <span class="kt">XCTAssert</span><span class="p">(</span><span class="n">navigation</span><span class="o">.</span><span class="n">viewControllers</span><span class="o">.</span><span class="n">last</span> <span class="k">is</span> <span class="kt">MyViewController</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Testing Presentation Navigation</span>
<span class="kd">func</span> <span class="nf">test_carFilterButton_presentsCarFilterView</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">controller</span><span class="o">.</span><span class="nf">didSelectFilterButton</span><span class="p">()</span>
  <span class="kt">XCTAssertNotNil</span><span class="p">(</span><span class="n">controller</span><span class="o">.</span><span class="n">presentedViewController</span><span class="p">)</span>
  <span class="kt">XCTAssert</span><span class="p">(</span><span class="n">controller</span><span class="o">.</span><span class="n">presentedViewController</span> <span class="k">is</span> <span class="kt">CarFilterView</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>만약, 테이뷰나 콜렉션뷰 컨트롤러를 테스트할 필요가 있을 경우 데이터를 외부에서 주입하는게 좋다.</p>

<h4 id="delegate-conformance">Delegate Conformance</h4>

<p>델리게이트를 테스트할 경우 우리는 델리게이트를 통해 수행되는 조치가 수행되었는지 테스트하는데 목적을 둡니다. 이 기능은 다른 기능을 테스트하는 것과 다르지 않아야 합니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* in the controller */</span>
<span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span><span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span> <span class="n">cellForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UITableViewCell</span> <span class="p">{</span>
  <span class="cm">/* some code to return a configured cell */</span>
<span class="p">}</span>

<span class="cm">/* in the test class */</span>
<span class="kd">func</span> <span class="nf">test_cellForRowAt_emptyState</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// 1</span>
  <span class="k">let</span> <span class="nv">indexPath</span> <span class="o">=</span> <span class="kt">IndexPath</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">section</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
  <span class="k">let</span> <span class="nv">state</span><span class="p">:</span> <span class="kt">MyController</span><span class="o">.</span><span class="kt">State</span> <span class="o">=</span> <span class="o">.</span><span class="n">empty</span>
  <span class="c1">// 2</span>
  <span class="n">controller</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">state</span>

  <span class="c1">// 3</span>
  <span class="k">let</span> <span class="nv">actual</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="nf">tableView</span><span class="p">(</span><span class="n">controller</span><span class="o">.</span><span class="n">tableView</span><span class="p">,</span> <span class="nv">cellForRowAt</span><span class="p">:</span> <span class="n">indexPath</span><span class="p">)</span>

  <span class="c1">// 4</span>
  <span class="kt">XCTAssert</span><span class="p">(</span><span class="n">actual</span> <span class="k">is</span> <span class="kt">EmptyTableCell</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>의존성을 선언</li>
  <li>이 기능을 호출하거나 컨트롤러가 특정 방식으로 움직이도록 값을 설정</li>
  <li>테스트할 값을 탐색</li>
  <li>값이 우리가 원하는 결과를 수행된 값이라고 가정하고 비교</li>
</ol>

<h4 id="testing-networking">Testing Networking</h4>

<p>네트워킹을 테스트할 때는 실제로 네트워크에 연결하지 않는다는 점을 기억하는 것이 중요합니다. 네트워킹을 테스트할 때는 Stubs 데이터를 사용해 응답에 대해 작업하는 것이 표준입니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/* in PersonStub.json */</span>
<span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Hesham Salman"</span><span class="p">,</span>
  <span class="s">"age"</span><span class="p">:</span> <span class="mi">25</span>
<span class="p">}</span>

<span class="cm">/* in test helper */</span>
<span class="kd">func</span> <span class="nf">stubbedResponse</span><span class="p">(</span><span class="nv">filename</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Data</span> <span class="p">{</span>
    <span class="kd">@objc</span> <span class="kd">class</span> <span class="kt">TestClass</span><span class="p">:</span> <span class="kt">NSObject</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">let</span> <span class="nv">bundle</span> <span class="o">=</span> <span class="kt">Bundle</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="kt">TestClass</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
    <span class="k">guard</span> <span class="k">let</span> <span class="nv">path</span> <span class="o">=</span> <span class="n">bundle</span><span class="o">.</span><span class="nf">path</span><span class="p">(</span><span class="nv">forResource</span><span class="p">:</span> <span class="n">filename</span><span class="p">,</span> <span class="nv">ofType</span><span class="p">:</span> <span class="s">"json"</span><span class="p">),</span>
        <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="kt">Data</span><span class="p">(</span><span class="nv">contentsOf</span><span class="p">:</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">fileURLWithPath</span><span class="p">:</span> <span class="n">path</span><span class="p">))</span>
        <span class="k">else</span> <span class="p">{</span> <span class="kt">XCTFail</span><span class="p">()</span> <span class="p">}</span>

    <span class="k">return</span> <span class="n">data</span>
<span class="p">}</span>

<span class="cm">/* in test class */</span>

<span class="k">var</span> <span class="nv">controller</span><span class="p">:</span> <span class="kt">MyController</span><span class="o">!</span>

<span class="kd">func</span> <span class="nf">test_instantiation</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// 1</span>
  <span class="k">let</span> <span class="nv">decoder</span> <span class="o">=</span> <span class="kt">JSONDecoder</span><span class="p">()</span>
  <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="nf">stubbedResponse</span><span class="p">(</span><span class="nv">filename</span><span class="p">:</span> <span class="s">"PersonStub"</span><span class="p">)</span>
  <span class="k">let</span> <span class="nv">apiClient</span> <span class="o">=</span> <span class="kt">MockApiClient</span><span class="p">(</span><span class="nv">response</span><span class="p">:</span> <span class="n">data</span><span class="p">)</span>

  <span class="c1">// 2</span>
  <span class="n">controller</span> <span class="o">=</span> <span class="kt">MyController</span><span class="p">(</span><span class="nv">service</span><span class="p">:</span> <span class="kt">PersonService</span><span class="p">(</span><span class="nv">apiClient</span><span class="p">:</span> <span class="n">apiClient</span><span class="p">))</span>
  <span class="c1">// 3</span>
  <span class="k">let</span> <span class="nv">expectation</span> <span class="o">=</span> <span class="nf">expectation</span><span class="p">(</span><span class="nv">description</span><span class="p">:</span> <span class="s">"received data"</span><span class="p">)</span>

  <span class="c1">// 4</span>
  <span class="n">controller</span><span class="o">.</span><span class="n">fetchPeople</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
    <span class="c1">// 5</span>
    <span class="k">guard</span> <span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="n">response</span><span class="p">)</span> <span class="o">=</span> <span class="n">result</span><span class="p">,</span>
    <span class="k">let</span> <span class="nv">people</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="n">decoder</span><span class="o">.</span><span class="nf">decode</span><span class="p">([</span><span class="kt">Person</span><span class="p">]</span><span class="o">.</span><span class="k">self</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
    <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="kt">XCTFail</span><span class="p">()</span> <span class="p">}</span>

    <span class="c1">// 6</span>
    <span class="k">let</span> <span class="nv">expectedCount</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">let</span> <span class="nv">actualCount</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">count</span>
    <span class="kt">XCTAsssertEqual</span><span class="p">(</span><span class="n">expectedCount</span><span class="p">,</span> <span class="n">actualCount</span><span class="p">)</span>

    <span class="k">let</span> <span class="nv">expectedState</span><span class="p">:</span> <span class="kt">MyController</span><span class="o">.</span><span class="kt">State</span> <span class="o">=</span> <span class="o">.</span><span class="nf">results</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
    <span class="k">let</span> <span class="nv">actualState</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">state</span>
    <span class="kt">XCTAssertEqual</span><span class="p">(</span><span class="n">expectedState</span><span class="p">,</span> <span class="n">actualState</span><span class="p">)</span>

    <span class="c1">// 7</span>
    <span class="n">expectation</span><span class="o">.</span><span class="nf">fulfill</span><span class="p">()</span>
  <span class="p">}</span>

  <span class="c1">// 8</span>
  <span class="nf">waitForExpectations</span><span class="p">(</span><span class="nv">timeout</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="testing-other-objects">Testing Other Objects</h3>

<h4 id="delegates">Delegates</h4>

<p>델리게이트를 보유하고 있는 클래스에서 델리게이트를 테스트합니다. 예를 들어 아래와 같은 클래스가 있는 경우.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">NotifierDelegate</span><span class="p">:</span> <span class="kd">class</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">notifierDidUpdate</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">Notifier</span> <span class="p">{</span>
  <span class="k">weak</span> <span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt">NotifierDelegate</span><span class="p">?</span>

  <span class="nf">init</span><span class="p">(</span><span class="nv">delegate</span><span class="p">:</span> <span class="kt">NotifierDelegate</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">delegate</span>
  <span class="p">}</span>

  <span class="kd">func</span> <span class="nf">update</span><span class="p">()</span> <span class="p">{</span>
    <span class="cm">/* impl */</span>
    <span class="n">delegate</span><span class="p">?</span><span class="o">.</span><span class="nf">notifierDidUpdate</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>아래와 같은 테스트에서 호출했을 때 델리게이트를 호출하는지 확인하면 됩니다.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 1</span>
<span class="kd">class</span> <span class="kt">MockNotifierDelegate</span><span class="p">:</span> <span class="kt">NotifierDelegate</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">didUpdateWasCalled</span> <span class="o">=</span> <span class="kc">false</span>
  <span class="c1">// 2</span>
  <span class="kd">func</span> <span class="nf">notifierDidUpdate</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">didUpdateWasCalled</span> <span class="o">=</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* in test class */</span>
<span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt">MockNotifierDelegate</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">notifier</span><span class="p">:</span> <span class="kt">Notifier</span><span class="o">!</span>

<span class="k">override</span> <span class="kd">func</span> <span class="nf">setUp</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">super</span><span class="o">.</span><span class="nf">setUp</span><span class="p">()</span>
  <span class="n">delegate</span> <span class="o">=</span> <span class="kt">MockNotifierDelegate</span><span class="p">()</span>
  <span class="n">notifier</span> <span class="o">=</span> <span class="kt">Notifier</span><span class="p">(</span><span class="nv">delegate</span><span class="p">:</span> <span class="n">delegate</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">test_update_callsDelegateMethod</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// 3</span>
  <span class="n">notifier</span><span class="o">.</span><span class="nf">update</span><span class="p">()</span>
  <span class="c1">// 4</span>
  <span class="kt">XCTAssertTrue</span><span class="p">(</span><span class="n">delegate</span><span class="o">.</span><span class="n">didUpdateWasCalled</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="view-models">View Models</h4>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">CarViewModel</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">car</span><span class="p">:</span> <span class="kt">Car</span>

    <span class="k">var</span> <span class="nv">titleText</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">NSAttributedString</span><span class="p">(</span>
            <span class="nv">string</span><span class="p">:</span> <span class="s">"</span><span class="se">\(</span><span class="n">car</span><span class="o">.</span><span class="n">year</span><span class="se">)</span><span class="s"> </span><span class="se">\(</span><span class="n">car</span><span class="o">.</span><span class="n">make</span><span class="se">)</span><span class="s"> </span><span class="se">\(</span><span class="n">car</span><span class="o">.</span><span class="n">model</span><span class="se">)</span><span class="s">"</span><span class="p">,</span>
            <span class="nv">attributes</span><span class="p">:</span> <span class="kt">StyleGuide</span><span class="o">.</span><span class="kt">Text</span><span class="o">.</span><span class="nf">header1Attributes</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span> <span class="kt">StyleGuide</span><span class="o">.</span><span class="kt">Color</span><span class="o">.</span><span class="n">primaryText</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">}</span>

    <span class="k">var</span> <span class="nv">subtitleText</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">NSAttributedString</span><span class="p">(</span>
            <span class="nv">string</span><span class="p">:</span> <span class="n">car</span><span class="o">.</span><span class="n">mileage</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="nv">attributes</span><span class="p">:</span> <span class="kt">StyleGuide</span><span class="o">.</span><span class="kt">Text</span><span class="o">.</span><span class="nf">header3Attributes</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span> <span class="kt">StyleGuide</span><span class="o">.</span><span class="kt">Color</span><span class="o">.</span><span class="n">secondaryText</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">}</span>

    <span class="k">var</span> <span class="nv">image</span><span class="p">:</span> <span class="kt">UIImage</span> <span class="p">{</span> <span class="k">return</span> <span class="n">car</span><span class="o">.</span><span class="n">image</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>이런 경우 입력에 대한 출력이 예상 가능한 값인지 테스트하는 로직이 필요합니다.</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = 'http://localhost:4001/';
                            this.page.identifier = 'iOS 삽질 블로그';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://jglee.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; iOS 삽질 블로그 &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/tdd/">Tdd</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/breakPointGuide">Edit Breakpoints in Xcode (번역)</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/tdd/">
                                
                                    See all 1 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/breakPointGuide">
                <div class="post-card-image" style="background-image: url(/assets/images/tdd/breakPoint.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/breakPointGuide">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Tdd</span>
                            
                        
                            
                                <span class="post-card-tags">Ios</span>
                            
                        
                    

                    <h2 class="post-card-title">Edit Breakpoints in Xcode (번역)</h2>
                </header>
                <section class="post-card-excerpt">
                    <p># Edit Breakpoints in Xcode 브레이크 포인트는 디버깅에 있어 중요한 역할을 하며, 함께 강력한 기능을 제공합니다. 다음은 디버깅 하는 동안 효율성을 높이기 위한 브레이크 포인트와 관련된 몇가지 팁입니다. 다음과 같이 루프에 대한 가</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/Top_5_Design_Patterns">
                <div class="post-card-image" style="background-image: url(/assets/images/top_5_design_patterns.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Top_5_Design_Patterns">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Ios</span>
                            
                        
                    

                    <h2 class="post-card-title">Top 5 스위프트 디자인 패턴 (번역)</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>Top 5 Design Patterns in Swift for iOS App Development (번역) Top 5 Design Patterns in Swift for iOS App Development 2014년에 공개된 애플의 프로그래밍 언어인 스위프트는 점점 더 인기를 끌고 있다. Swift는</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4001/">
            
                <img src="/assets/images/blog-icon.png" alt="iOS 삽질 블로그 icon" />
            
            <span>iOS 삽질 블로그</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">The iOS Testing Manifesto (번역)</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=The+iOS+Testing+Manifesto+%28%EB%B2%88%EC%97%AD%29&amp;url=https://leejigun.github.io/UnitTest_Manifest"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://leejigun.github.io/UnitTest_Manifest"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4001/">iOS 삽질 블로그</a> &copy; 2025</section>
                <section class="poweredby">Github page blog of <a href="https://github.com/Leejigun">Leejigun</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <!-- <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a> -->
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-154736789-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
